@inject TooltipService tooltipService

@attribute [Authorize(Roles = "Public, Staff, ProjecManager, Admin")]

<EntityList List="Notes">
    <ItemsFull>        
        <RadzenDataGrid Data="@Notes" TItem="NoteInfoDto" AllowColumnResize="true" >
            <Columns>
                <RadzenDataGridColumn TItem="NoteInfoDto" Property="NoteNumber" Title="Note #" Width="80px" TextAlign="TextAlign.Center" />
                <RadzenDataGridColumn TItem="NoteInfoDto" Property="Topic" Title="Topic" />
                <RadzenDataGridColumn TItem="NoteInfoDto" Property="Priority" Title="Priority " Width="60px"  TextAlign="TextAlign.Right" />
                <RadzenDataGridColumn TItem="NoteInfoDto" Property="CreationDateTime" Title="Date " FormatString="{0:d}" Width="80px"  TextAlign="TextAlign.Right" />                
                <RadzenDataGridColumn TItem="NoteInfoDto" Title="Actions" Width="100px" TextAlign="TextAlign.Center" >
                    <Template Context="data">                                                
@*                        <button class="btn btn-sm btn-warning mx-1"
                                @onclick="@(() => OnNoteEdit.InvokeAsync(data))" 
                                data-toggle="tooltip" title="Edit note">
                            <i class="fa fa-pencil"></i>
                        </button>
                        <button class="btn btn-sm btn-danger mx-1"
                                @onclick="@(() => OnNoteDelete.InvokeAsync(data))"
                                data-toggle="tooltip" title="Delete note">
                            <i class="fa fa-minus"></i>
                        </button>*@                         
                        <RadzenButton Click="@(() => OnNoteEdit.InvokeAsync(data))" Icon="edit" 
                            ButtonStyle="ButtonStyle.Primary" 
                            MouseEnter="@(args => tooltipService.Open(args, "Edit note ...", new TooltipOptions(){ Position = TooltipPosition.Left }) )" Class="mr-0 mb-0"  />
                        <RadzenButton Click="@(() => OnNoteDelete.InvokeAsync(data))" Icon="delete"
                            ButtonStyle="ButtonStyle.Danger" 
                            MouseEnter="@(args => tooltipService.Open(args, "Delete note ...", new TooltipOptions(){ Position = TooltipPosition.Left }) )" />
                    </Template>
                </RadzenDataGridColumn>
            </Columns> 
        </RadzenDataGrid>
    </ItemsFull>
</EntityList>

@code {
    [Parameter] public List<NoteInfoDto> Notes { get; set; }
    [Parameter] public EventCallback<NoteInfoDto> OnNoteDelete { get; set; }
    [Parameter] public EventCallback<NoteInfoDto> OnNoteEdit { get; set; }
    [Parameter] public EventCallback<NoteInfoDto> OnNoteView { get; set; }
}
